<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.png">
    <title>Character Quiz App</title>
    <!-- EXTERNAL -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Data -->
    <script src="data/changelog.js"></script>
    <script src="data/characters.js"></script>
    <script src="data/top-menu-items.js"></script>
    <script src="data/bottom-menu-items.js"></script>
    <script src="data/config.js"></script>
    <script src="data/backgrounds.js"></script>
    <script src="data/difficulties.js"></script>
    <!-- MIGRATIONS -->
    <script src="migrations/0.1-0.2.js"></script>
    <!-- GLOBAL -->
    <link rel="stylesheet" href="index.css">
    <script src="index.js"></script>
    <!-- UTILS -->
    <script src="utils/helper.js"></script>
    <script src="utils/bottom-menu-generator.js"></script>
    <script src="utils/top-menu-generator.js"></script>
    <script src="utils/tooltips-generator.js"></script>
    <script src="utils/storage-manager.js"></script>
    <script src="utils/autocomplete.js"></script>
    <!-- SITES -->
    <!-- TOP MENU -->
    <link rel="stylesheet" href="sites/top/daily.css">
    <script src="sites/top/daily.js"></script>
    <link rel="stylesheet" href="sites/top/banners.css">
    <script src="sites/top/banners.js"></script>
    <link rel="stylesheet" href="sites/top/pixelate.css">
    <script src="sites/top/pixelate.js"></script>
    <link rel="stylesheet" href="sites/top/mismatch.css">
    <script src="sites/top/mismatch.js"></script>
    <link rel="stylesheet" href="sites/top/tournament.css">
    <script src="sites/top/tournament.js"></script>
    <link rel="stylesheet" href="sites/top/music.css">
    <script src="sites/top/music.js"></script>
    <!-- BOTTOM MENU -->
    <link rel="stylesheet" href="sites/bottom/difficulty.css">
    <script src="sites/bottom/difficulty.js"></script>
    <link rel="stylesheet" href="sites/bottom/version.css">
    <script src="sites/bottom/version.js"></script>
    <link rel="stylesheet" href="sites/bottom/whats-new.css">
    <script src="sites/bottom/whats-new.js"></script>
    <link rel="stylesheet" href="sites/bottom/background.css">
    <script src="sites/bottom/backgrounds.js"></script>
    <link rel="stylesheet" href="sites/bottom/database.css">
    <script src="sites/bottom/database.js"></script>
</head>

<body>

    <!-- Top menu items -->
    <nav id="top-menu">
        <!-- Menu items and help modals are generated dynamically in utils/top-menu-generator.js -->
    </nav>

    <!-- Top menu content -->

    <!-- Daily -->
    <div id="site-daily" class="d-none">
        <div class="container quiz-container">
            <div name="daily-quizzes" class="d-flex justify-content-center gap-3 py-3"></div>
            <div name="quiz"></div>
        </div>
    </div>

    <!-- Banners -->
    <div id="site-banners" class="d-none">
        <div class="container quiz-container">
            <img name="question" class="d-block mx-auto">
            <div class="pt-3 search-container">
                <div name="autocomplete"></div>
                <button class="btn btn-primary ms-3 next-button">Next</button>
            </div>
            <div class="d-flex justify-content-center tries-score my-2">
                Tries: <p name="tries-current">0</p> / <p name="tries-max">5</p>
            </div>
            <div name="tries-display" class="d-flex justify-content-center tries-characters">
                <!-- Tries icons will be dynamically injected here -->
            </div>
            <img name="answer-success" class="d-block mx-auto">
        </div>
    </div>

    <!-- Pixelate -->
    <div id="site-pixelate" class="d-none">
        <div class="container quiz-container">
            <canvas name="question" class="d-block mx-auto" width="256" height="256">
                <!-- Canvas for pixelate will be dynamically injected here -->
            </canvas>
            <div class="pt-3 search-container">
                <div name="autocomplete"></div>
                <button class="btn btn-primary ms-3 next-button">Next</button>
            </div>
            <div class="d-flex justify-content-center tries-score my-2">
                Tries: <p name="tries-current">0</p> / <p name="tries-max">5</p>
            </div>
            <div name="tries-display" class="d-flex justify-content-center tries-characters">
                <!-- Tries icons will be dynamically injected here -->
            </div>
            <img name="answer-success" class="d-block mx-auto">
        </div>
    </div>

    <!-- Mismatch -->
    <div id="site-mismatch" class="d-none">
        <div class="container quiz-container">
            <div name="question" class="d-block mx-auto character-grid">
                <!-- Characters for mismatch will be dynamically injected here -->
            </div>
            <button class="btn btn-primary my-3 next-button">Next</button>
            <img name="answer-success" class="d-block mx-auto">
        </div>
    </div>

    <!-- Tournament -->
    <div id="site-tournament" class="d-none">
        <div class="container quiz-container">
            <div name="tournament-setup" class="col-4 mx-auto pt-3">
                <div class="">
                    <label class="form-label">Tournament type</label>
                    <select name="tournament-type" class="form-select">
                        <!-- Tournament types will be dynamically injected here -->
                    </select>
                    <div class="form-text">
                        Select tournament type.
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Characters</label>
                    <select name="character-count" class="form-select">
                        <!-- Character counts will be dynamically injected here -->
                    </select>
                    <div class="form-text">
                        Select character count.
                    </div>
                </div>
                <div class="text-center">
                    <button name="start-tournament" class="btn btn-primary">Start Tournament</button>
                </div>
            </div>
            <div name="match" class="mx-auto character-grid pt-2">
                <!-- Match characters will be dynamically injected here -->
            </div>
            <div class="d-flex justify-content-center tries-score my-2">
                Matches: <p name="matches-current">0</p> / <p name="matches-max">5</p>
            </div>
            <div name="result" class="d-block mx-auto">
                <!-- Tournament result will be dynamically injected here -->
            </div>
            <button class="btn btn-primary next-button d-none">Back to setup</button>
        </div>
    </div>

    <!-- Music -->
    <div id="site-music" class="d-none">
        <div class="container quiz-container">
            <div class="player-container d-block mx-auto">
                <!-- Hidden audio element -->
                <audio preload="metadata" name="question" src="assets/character/demo_music/Albedo.mp3"></audio>

                <!-- Custom progress bar -->
                <div class="progress-container">
                    <div class="progress-bar" name="progressBar"></div>
                </div>

                <!-- Time display -->
                <div class="time-display">
                    <span name="currentTime">00:00</span>
                    <span name="duration">00:00</span>
                </div>

                <!-- Controls -->
                <div class="controls">
                    <button name="playButton" class="btn">Play</button>
                    <button name="pauseButton" class="btn" disabled>Pause</button>
                    <button name="restartButton" class="btn">Restart</button>
                </div>
            </div>
            <div class="pt-3 search-container">
                <div name="autocomplete"></div>
                <button class="btn btn-primary ms-3 next-button">Next</button>
            </div>
            <div class="d-flex justify-content-center tries-score my-2">
                Tries: <p name="tries-current">0</p> / <p name="tries-max">5</p>
            </div>
            <div name="tries-display" class="d-flex justify-content-center tries-characters">
                <!-- Tries icons will be dynamically injected here -->
            </div>
            <img name="answer-success" class="d-block mx-auto">
        </div>
    </div>

    <!-- Bottom menu items -->
    <div id="bottom-menu" class="bottom-container">
        <!-- Menu items are generated dynamically in utils/bottom-menu-generator.js -->
    </div>

    <!-- Difficulties Modal -->
    <div class="modal fade" id="site-difficulties-modal" tabindex="-1">
        <div class="modal-dialog modal-xl modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="#site-difficulties-modal-label">Select Difficulty</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4" id="site-difficulties-modal-content">
                    <div class="domain-container">
                        <div class="difficulty-section">
                            <div class="domain-levels">
                                <!-- Render difficulty levels dynamically -->
                            </div>
                        </div>

                        <div name="levels-difficulties">
                            <!-- Render difficulty levels descriptions dynamically -->
                        </div>

                        <div class="challenge-container">
                            <button class="btn btn-primary ms-3">Potvrdiť</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Background selector Modal -->
    <div class="modal fade" id="site-backgrounds-modal" tabindex="-1">
        <div class="modal-dialog modal-xl modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="site-backgrounds-modal-label">Backgrounds</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="mb-4">
                        <h6 class="fw-bold">What is the Background Feature?</h6>
                        <p>Customize your quiz experience by choosing different character-themed wallpapers as the app
                            background.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="fw-bold">How to Use</h6>
                        <ol>
                            <li>Click on the "Background" menu item to view available wallpapers</li>
                            <li>Browse through the character thumbnails</li>
                            <li>Click on any character thumbnail to set their wallpaper as the background</li>
                            <li>The background will instantly change to your selection</li>
                        </ol>
                    </div>

                    <div>
                        <h6 class="fw-bold">Available Backgrounds</h6>
                        <p>Backgrounds are available for characters that have wallpaper assets. The selection varies
                            depending on the assets included in your installation.</p>
                        <p class="text-muted fst-italic">Note: You can continue playing quizzes with any background of
                            your choice.</p>
                    </div>
                    <div id="site-backgrounds-modal-content">
                        <!-- Background images will be dynamically loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Version Modal -->
    <div class="modal fade" id="site-versions-modal" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="site-versions-modal-label">Changelog</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body changelog-container p-4" id="site-versions-modal-content">
                    <!-- Version entries will be dynamically injected here -->
                </div>
            </div>
        </div>
    </div>

    <!-- What's new Modal -->
    <div class="modal fade" id="site-whatsnew-modal" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="site-whatsnew-modal-label">New version</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4" id="site-whatsnew-modal-content">
                    <!-- Version notification content will be dynamically injected here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Database Modal -->
    <div class="modal fade" id="site-database-modal" tabindex="-1">
        <div class="modal-dialog modal-xl modal-dialog-scrollable">
            <div class="modal-content">
                <div class="d-flex align-items-center loader">
                    <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>
                    <strong class="ms-3 me-auto">Loading...</strong>
                </div>

                <div class="modal-header">
                    <h5 class="modal-title" id="site-database-modal-label">Database</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4" id="site-database-modal-content">
                    <div class="mb-3 d-flex justify-content-center" name="autocomplete"></div>

                    <img id="banner" style="width: 100%;">

                    <!-- Character Header Section -->
                    <div id="character-header" class="character-header"></div>

                    <!-- Tabs Navigation -->
                    <div class="tabs-navigation">
                        <button class="tab-button active" data-tab="ascensions">Ascensions</button>
                        <button class="tab-button" data-tab="talents">Talents</button>
                        <button class="tab-button" data-tab="constellations">Constellations</button>
                        <button class="tab-button" data-tab="build">Build infographic</button>
                    </div>

                    <!-- Tabs Content -->
                    <div class="tabs-content">
                        <div id="ascensions" class="tab-content active">
                            <div class="ascension-table"></div>
                            <div class="total-materials" id="ascension-materials"></div>
                        </div>
                        <div id="talents" class="tab-content">
                            <div class="talents-info"></div>
                            <div class="talent-level-table"></div>
                            <div class="total-materials" id="talent-materials"></div>
                        </div>
                        <div id="constellations" class="tab-content">
                            <div class="constellations-info"></div>
                        </div>
                        <div id="build" class="tab-content">
                            <img>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>